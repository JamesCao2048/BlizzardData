refactoring: NPE when using "Generalize Type" on field in local type
I20031119 (M5 test pass) 1.have this code: public class Test { public void foobar() { class Listener3 { private Test fTest; private Listener3() { fTest= new Test(); } public int bar() { return foo(); } public int foo() { return 1; } private String getProperty() { return null; } } this.addListener(ne
w Listener3() { public int bar() { return 1; } }); } public void addListener(Object o) { } } 2.Select the type name ('Test') of field fTest in the local type 3.Choose Refactor->Generalize Type 
-> Th