[Browser] Exception while disposing SWT Mozilla browser
Created  attachment 116842   [details]
sample html for displaying alert on onload event
I have attached a file that, if opened in the SWT Mozilla browser using the SWT.MOZILLA style bit, calls a javascript function from the document's onload event, which simply displays some text using the alert function. Upon dismissing the alert box and closing the shell that contains the browser, I get the following Exception:
Exception in thread "main" org.eclipse.swt.SWTError: XPCOM error -2147467262
at org.eclipse.swt.browser.Mozilla.error(Mozilla.java:1597)
at org.eclipse.swt.browser.PromptService2.getBrowser(PromptService2.java:151)
at org.eclipse.swt.browser.PromptService2.Alert(PromptService2.java:193)
at org.eclipse.swt.browser.PromptService2$2.method3(PromptService2.java:45)
at org.eclipse.swt.internal.mozilla.XPCOMObject.callback3(XPCOMObject.java:259)
at org.eclipse.swt.internal.mozilla.XPCOM.VtblCall(Native Method)
at org.eclipse.swt.internal.mozilla.nsIBaseWindow.Destroy(nsIBaseWindow.java:53)
at org.eclipse.swt.browser.Mozilla.onDispose(Mozilla.java:1630)
at org.eclipse.swt.browser.Mozilla$3.handleEvent(Mozilla.java:1181)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1027)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1008)
at org.eclipse.swt.widgets.Widget.release(Widget.java:804)
at org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:755)
at org.eclipse.swt.widgets.Canvas.releaseChildren(Canvas.java:174)
at org.eclipse.swt.widgets.Decorations.releaseChildren(Decorations.java:771)
at org.eclipse.swt.widgets.Shell.releaseChildren(Shell.java:1211)
at org.eclipse.swt.widgets.Widget.release(Widget.java:807)
at org.eclipse.swt.widgets.Widget.dispose(Widget.java:441)
at org.eclipse.swt.widgets.Decorations.dispose(Decorations.java:446)
at org.eclipse.swt.widgets.Shell.dispose(Shell.java:674)
at org.eclipse.swt.widgets.Decorations.closeWidget(Decorations.java:308)
at org.eclipse.swt.widgets.Decorations.WM_CLOSE(Decorations.java:1632)
at org.eclipse.swt.widgets.Control.windowProc(Control.java:3789)
at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:337)
at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1565)
at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1937)
at org.eclipse.swt.widgets.Display.windowProc(Display.java:4528)
at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)
at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2365)
at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:477)
at org.eclipse.swt.widgets.Control.windowProc(Control.java:3877)
at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:337)
at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1565)
at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1937)
at org.eclipse.swt.widgets.Display.windowProc(Display.