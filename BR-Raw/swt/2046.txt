[typing] IAE in JFaceTextUtil.getPartialTopIndex()
3.3M5
While the projection viewer is handling widget disposal:
java.lang.IllegalArgumentException: Index out of bounds
at org.eclipse.swt.SWT.error(SWT.java:3462)
at org.eclipse.swt.SWT.error(SWT.java:3401)
at org.eclipse.swt.SWT.error(SWT.java:3372)
at org.eclipse.swt.custom.StyledText.getOffsetAtLine(StyledText.java:3711)
at org.eclipse.jface.text.JFaceTextUtil.getPartialTopIndex(JFaceTextUtil.java:94)
at org.eclipse.jface.text.JFaceTextUtil.getPartialTopIndex(JFaceTextUtil.java:142)
at org.eclipse.jface.text.source.AnnotationPainter.getInclusiveTopIndexStartOffset(AnnotationPainter.java:1222)
at org.eclipse.jface.text.source.AnnotationPainter.computeClippingRegion(AnnotationPainter.java:1374)
at org.eclipse.jface.text.source.AnnotationPainter.catchupWithModel(AnnotationPainter.java:439)
at org.eclipse.jface.text.source.AnnotationPainter.deactivate(AnnotationPainter.java:1533)
at org.eclipse.jface.text.PaintManager.inputDocumentAboutToBeChanged(PaintManager.java:365)
at org.eclipse.jface.text.TextViewer.fireInputDocumentAboutToBeChanged(TextViewer.java:2644)
at org.eclipse.jface.text.TextViewer.setDocument(TextViewer.java:2699)
at org.eclipse.jface.text.source.SourceViewer.setDocument(SourceViewer.java:518)
at org.eclipse.jface.text.source.projection.ProjectionViewer.setDocument(ProjectionViewer.java:370)
at org.eclipse.jface.text.source.SourceViewer.setDocument(SourceViewer.java:459)
at org.eclipse.jface.text.TextViewer.handleDispose(TextViewer.java:1777)
at org.eclipse.jface.text.source.SourceViewer.handleDispose(SourceViewer.java:640)
at org.eclipse.jface.text.source.projection.ProjectionViewer.handleDispose(ProjectionViewer.java:1341)
at org.eclipse.jface.text.TextViewer$2.widgetDisposed(TextViewer.java:1685)
at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:116)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947)
at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:706)
at org.eclipse.swt.custom.StyledText.handleDispose(StyledText.java:4948)
at org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java:4815)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:943)
at org.eclipse.swt.widgets.Widget.release(Widget.java:740)
at org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:636)
at org.eclipse.swt.widgets.Canvas.releaseChildren(Canvas.java:117)
at org.eclipse.swt.widgets.Widget.release(Widget.java:743)
at org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:636)
at org.eclipse.swt.widgets.Widget.release(Widget.java:743)
at org.eclipse.swt.widgets.Compo