Bug 319259 – [Discovery][jSLP] ServiceName might contain illegal characters
Exception during sending of SRVREG - xid=15033, locale=en_US, url: service:osgiservices://osgiservices://140.211.166.119:3282/svc_bEU04VRJLUzrHobksW4CWT+Swas=, serviceType: service:osgiservices, scopeList: [default], attList: [(ecf.sp.cid=\FF\62\33\4a\6e\4c\6d\56\6a\62\47\6c\77\63\32\55\75\5a\57\4e\6d\4c\6d\4e\76\63\6d\55\75\61\57\52\6c\62\6e\52\70\64\48\6b\75\55\33\52\79\61\57\35\6e\53\55\51\36\5a\57\4e\6d\64\47\4e\77\4f\69\38\76\62\47\39\6a\59\57\78\6f\62\33\4e\30\4f\6a\4d\79\4f\44\49\76\63\32\56\79\64\6d\56\79), (ecf.rsvc.id=\FF\4d\54\41\35), (x-28392-PRIORITY=0), (x-28392-SERVICEIDNAME=svc_bEU04VRJLUzrHobksW4CWT+Swas=), (x-28392-WEIGHT=0), (ecf.sp.cns=org.eclipse.ecf.core.identity.StringID), (ecf.sp.esi=foobar), (ecf.rsvc.ns=ecf.namespace.generic.remoteservice), (ecf.sp.ect=ecf.generic.server), (osgi.remote.service.interfaces=org.eclipse.ecf.tests.remoteservice.IConcatService)]
to ecf2/140.211.166.119:10427
Exception: java.net.SocketTimeoutException: Receive timed out
[log;-0700 2010.07.08 04:33:18:818;ERROR;org.eclipse.ecf.osgi.services.discovery;org.eclipse.core.runtime.Status[plugin=org.eclipse.ecf.osgi.services.discovery;code=4;message=publishService:cannot register service;severity4;exception=org.eclipse.ecf.core.util.ECFRuntimeException: Receive timed out;children=[]]]
org.eclipse.ecf.core.util.ECFRuntimeException: Receive timed out
at org.eclipse.ecf.provider.jslp.container.JSLPDiscoveryContainer.registerService(JSLPDiscoveryContainer.java:190)
at org.eclipse.ecf.provider.discovery.CompositeDiscoveryContainer.registerService(CompositeDiscoveryContainer.java:298)
at org.eclipse.ecf.internal.osgi.services.discovery.ServicePublicationHandler.handleServicePublication(ServicePublicationHandler.java:322)
at org.eclipse.ecf.internal.osgi.services.discovery.ServicePublicationHandler.addingService(ServicePublicationHandler.java:156)
at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:896)
at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:261)
at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:233)
at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:840)
at org.eclipse.osgi.internal.serviceregistry.FilteredServiceListener.serviceChanged(FilteredServiceListener.java:104)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:933)
at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:227)
at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:149)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:756)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:525)
at org.eclipse.ecf.internal.osgi.services.distribution.EventHookImpl.publishRemoteService(EventHookImpl.java:268)
at org.eclipse.ecf.internal.osgi.services.distribution.EventHookImpl.handleRegisteredServiceEvent(EventHookImpl.java:128)
at org.eclipse.ecf.internal.osgi.services.distribution.EventHookImpl.event(EventHookImpl.java:62)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1143)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:743)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507)
at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerService(AbstractDistributionTest.java:164)
at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerDefaultService(AbstractDistributionTest.java:174)
at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.registerWaitAndUnregister(AbstractRemoteServiceRegisterTest.java:42)
at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.testRegisterOnExistingServerWithMissingExportedIntents(AbstractRemoteServiceRegisterTest.java:145)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at junit.framework.TestCase.runTest(TestCase.java:168)
at junit.framework.TestCase.runBare(TestCase.java:134)
at junit.framework.TestResult$1.protect(TestResult.java:110)
at junit.framework.TestResult.runProtected(TestResult.java:128)
at junit.framework.TestResult.run(TestResult.java:113)
at junit.framework.TestCase.run(TestCase.java:124)
at junit.framework.TestSuite.runTest(TestSuite.java:232)
at junit.framework.TestSuite.run(TestSuite.java:227)
at junit.framework.TestSuite.runTest(TestSuite.java:232)
at junit.framework.TestSuite.run(TestSuite.java:227)
at org.pluginbuilder.autotestsuite.application.AutoTestRunner.run(AutoTestRunner.java:115)
at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runAllJUnit3Tests(AutoTestApplication.java:260)
at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runAllJUnitTestsOnUIThread(AutoTestApplication.java:175)
at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runHeadless(AutoTestApplication.java:159)
at org.pluginbuilder.autotestsuite.application.AutoTestApplication.run(AutoTestApplication.java:96)
at org.pluginbuilder.autotestsuite.application.AutoTestApplication.start(AutoTestApplication.java:69)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574)
at org.eclipse.equinox.launcher.Main.run(Main.java:1407)
at org.eclipse.equinox.launcher.Main.main(Main.java:1383)
Exception in Multicast Receiver Thread ch.ethz.iks.slp.ServiceLocationException: extra data found
54\45\77),(x-28392-PRIORITY=0),(x-28392-SERVICEIDNAME=svc_Ec
^
E.g.
"=" is not allowed within String service properties.