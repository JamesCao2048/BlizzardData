Bug 267494 – [Discovery][JmDNS] JMDNSPlugin$1.getService() returned a null service object
(TRACE)[03/07/09;14:52:09:532]CAUGHT Address already in use (org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer#connect)
java.net.BindException: Address already in use
at gnu.java.net.VMPlainSocketImpl.bind(Native Method)
at gnu.java.net.VMPlainSocketImpl.bind(VMPlainSocketImpl.java:302)
at gnu.java.net.PlainDatagramSocketImpl.bind(PlainDatagramSocketImpl.java:125)
at java.net.DatagramSocket.bind(DatagramSocket.java:700)
at java.net.MulticastSocket.<init>(MulticastSocket.java:112)
at java.net.MulticastSocket.<init>(MulticastSocket.java:93)
at javax.jmdns.impl.JmDNSImpl.openMulticastSocket(JmDNSImpl.java:296)
at javax.jmdns.impl.JmDNSImpl.init(JmDNSImpl.java:264)
at javax.jmdns.impl.JmDNSImpl.<init>(JmDNSImpl.java:220)
at javax.jmdns.JmDNS.create(JmDNS.java:41)
at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.connect(JMDNSDiscoveryContainer.java:101)
at org.eclipse.ecf.internal.provider.jmdns.JMDNSPlugin$1.getService(JMDNSPlugin.java:95)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)
at java.security.AccessController.doPrivileged(AccessController.java:96)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:440)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:691)
at org.osgi.util.tracker.ServiceTracker.addingService(ServiceTracker.java:442)
at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:896)
at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:261)
at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:184)
at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:339)
at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:273)
at org.eclipse.ecf.internal.provider.discovery.Activator$1.getService(Activator.java:72)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)
at java.security.AccessController.doPrivileged(AccessController.java:96)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:440)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:691)
at org.eclipse.equinox.internal.ds.InstanceProcess.getService(InstanceProcess.java:652)
at org.eclipse.equinox.internal.ds.model.ComponentReference.getMethod(ComponentReference.java:108)
at org.eclipse.equinox.internal.ds.model.ComponentReference.bind(ComponentReference.java:323)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.bindReference(ServiceComponentProp.java:396)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.bind(ServiceComponentProp.java:187)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.build(ServiceComponentProp.java:308)
at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponent(InstanceProcess.java:590)
at org.eclipse.equinox.internal.ds.ServiceReg.getService(ServiceReg.java:51)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)
at java.security.AccessController.doPrivileged(AccessController.java:96)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1120)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:754)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:722)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:129)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:532)
at org.eclipse.equinox.internal.ds.InstanceProcess.registerService(InstanceProcess.java:504)
at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponents(InstanceProcess.java:246)
at org.eclipse.equinox.internal.ds.Resolver.buildNewlySatisfied(Resolver.java:399)
at org.eclipse.equinox.internal.ds.Resolver.enableComponents(Resolver.java:179)
at org.eclipse.equinox.internal.ds.SCRManager.performWork(SCRManager.java:704)
at org.eclipse.equinox.internal.ds.SCRManager$QueuedJob.dispatch(SCRManager.java:671)
at org.eclipse.equinox.internal.ds.WorkThread.run(WorkThread.java:89)
at org.eclipse.equinox.internal.util.impl.tpt.threadpool.Executor.run(Executor.java:70)
(TRACE)[03/07/09;14:52:10:044]CAUGHT Exception creating JmDNS instance (org.eclipse.ecf.internal.provider.jmdns.JMDNSPlugin$1#getService(Bundle, ServiceRegistration))
org.eclipse.ecf.core.ContainerConnectException: Exception creating JmDNS instance
at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.connect(JMDNSDiscoveryContainer.java:109)
at org.eclipse.ecf.internal.provider.jmdns.JMDNSPlugin$1.getService(JMDNSPlugin.java:95)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)
at java.security.AccessController.doPrivileged(AccessController.java:96)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:440)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:691)
at org.osgi.util.tracker.ServiceTracker.addingService(ServiceTracker.java:442)
at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:896)
at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:261)
at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:184)
at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:339)
at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:273)
at org.eclipse.ecf.internal.provider.discovery.Activator$1.getService(Activator.java:72)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)
at java.security.AccessController.doPrivileged(AccessController.java:96)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:440)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:691)
at org.eclipse.equinox.internal.ds.InstanceProcess.getService(InstanceProcess.java:652)
at org.eclipse.equinox.internal.ds.model.ComponentReference.getMethod(ComponentReference.java:108)
at org.eclipse.equinox.internal.ds.model.ComponentReference.bind(ComponentReference.java:323)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.bindReference(ServiceComponentProp.java:396)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.bind(ServiceComponentProp.java:187)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.build(ServiceComponentProp.java:308)
at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponent(InstanceProcess.java:590)
at org.eclipse.equinox.internal.ds.ServiceReg.getService(ServiceReg.java:51)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)
at java.security.AccessController.doPrivileged(AccessController.java:96)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1120)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:754)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:722)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:129)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:532)
at org.eclipse.equinox.internal.ds.InstanceProcess.registerService(InstanceProcess.java:504)
at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponents(InstanceProcess.java:246)
at org.eclipse.equinox.internal.ds.Resolver.buildNewlySatisfied(Resolver.java:399)
at org.eclipse.equinox.internal.ds.Resolver.enableComponents(Resolver.java:179)
at org.eclipse.equinox.internal.ds.SCRManager.performWork(SCRManager.java:704)
at org.eclipse.equinox.internal.ds.SCRManager$QueuedJob.dispatch(SCRManager.java:671)
at org.eclipse.equinox.internal.ds.WorkThread.run(WorkThread.java:89)
at org.eclipse.equinox.internal.util.impl.tpt.threadpool.Executor.run(Executor.java:70)
Caused by: java.net.BindException: Address already in use
at gnu.java.net.VMPlainSocketImpl.bind(Native Method)
at gnu.java.net.VMPlainSocketImpl.bind(VMPlainSocketImpl.java:302)
at gnu.java.net.PlainDatagramSocketImpl.bind(PlainDatagramSocketImpl.java:125)
at java.net.DatagramSocket.bind(DatagramSocket.java:700)
at java.net.MulticastSocket.<init>(MulticastSocket.java:112)
at java.net.MulticastSocket.<init>(MulticastSocket.java:93)
at javax.jmdns.impl.JmDNSImpl.openMulticastSocket(JmDNSImpl.java:296)
at javax.jmdns.impl.JmDNSImpl.init(JmDNSImpl.java:264)
at javax.jmdns.impl.JmDNSImpl.<init>(JmDNSImpl.java:220)
at javax.jmdns.JmDNS.create(JmDNS.java:41)
at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.connect(JMDNSDiscoveryContainer.java:101)
...46 more
!SESSION 2009-03-07 14:50:23.537 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.5.0
java.vendor=GNU Classpath
BootLoader constants: OS=darwin, ARCH=arm, WS=steve_jobs_likes_to_make_life_miserable_for_us, NL=en_US
Command-line arguments:  -console -consoleLog
!ENTRY org.eclipse.ecf.provider.jmdns 4 0 2009-03-07 14:52:10.447
!MESSAGE
!STACK 0
org.osgi.framework.ServiceException: org.eclipse.ecf.internal.provider.jmdns.JMDNSPlugin$1.getService() returned a null service object
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:140)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:440)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:691)
at org.osgi.util.tracker.ServiceTracker.addingService(ServiceTracker.java:442)
at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:896)
at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:261)
at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:184)
at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:339)
at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:273)
at org.eclipse.ecf.internal.provider.discovery.Activator$1.getService(Activator.java:72)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)
at java.security.AccessController.doPrivileged(AccessController.java:96)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:440)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:691)
at org.eclipse.equinox.internal.ds.InstanceProcess.getService(InstanceProcess.java:652)
at org.eclipse.equinox.internal.ds.model.ComponentReference.getMethod(ComponentReference.java:108)
at org.eclipse.equinox.internal.ds.model.ComponentReference.bind(ComponentReference.java:323)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.bindReference(ServiceComponentProp.java:396)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.bind(ServiceComponentProp.java:187)
at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.build(ServiceComponentProp.java:308)
at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponent(InstanceProcess.java:590)
at org.eclipse.equinox.internal.ds.ServiceReg.getService(ServiceReg.java:51)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)
at java.security.AccessController.doPrivileged(AccessController.java:96)
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:445)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1120)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:754)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:722)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:129)
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:532)
at org.eclipse.equinox.internal.ds.InstanceProcess.registerService(InstanceProcess.java:504)
at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponents(InstanceProcess.java:246)
at org.eclipse.equinox.internal.ds.Resolver.buildNewlySatisfied(Resolver.java:399)
at org.eclipse.equinox.internal.ds.Resolver.enableComponents(Resolver.java:179)
at org.eclipse.equinox.internal.ds.SCRManager.performWork(SCRManager.java:704)
at org.eclipse.equinox.internal.ds.SCRManager$QueuedJob.dispatch(SCRManager.java:671)
at org.eclipse.equinox.internal.ds.WorkThread.run(WorkThread.java:89)
at org.eclipse.equinox.internal.util.impl.tpt.threadpool.Executor.run(Executor.java:70