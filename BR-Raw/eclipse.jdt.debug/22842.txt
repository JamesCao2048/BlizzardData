Bug 22842 – NPE adding variable to view
Build 20020820 + latest CVS as of 20020823
I was doing some stepping, when a pop-up appeared stating that there'd been an
error.
Afterwards, my variables view said "Thread not suspended, stack frame
unavailable," every time I stepped.
The following was in the log:
java.lang.NullPointerException
at org.eclipse.jdt.internal.debug.core.model.JDIFieldVariable.hashCode(JDIFieldVariable.java(Compiled Code))
at java.util.HashMap.put(HashMap.java(Compiled Code))
at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentProvider.cache(VariablesViewContentProvider.java(Compiled Code))
at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentProvider.getChildren(VariablesViewContentProvider.java:61)
at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentProvider.getElements(VariablesViewContentProvider.java:78)
at org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java(Compiled Code))
at org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java(Compiled Code))
at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java(Compiled Code))
at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java(Compiled Code))
at org.eclipse.jface.viewers.AbstractTreeViewer$2.run(AbstractTreeViewer.java:646)
at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java(Compiled Code))
at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:638)
at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:234)
at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:875)
at org.eclipse.debug.internal.ui.views.variables.VariablesView.setViewerInput(VariablesView.java:276)
at org.eclipse.debug.internal.ui.views.variables.VariablesView.selectionChanged(VariablesView.java:989)
at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java(Compiled Code))
at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java(Compiled Code))
at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java(Compiled Code))
at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java(Compiled Code))
at org.eclipse.ui.internal.PagePartSelectionTracker$1.selectionChanged(PagePartSelectionTracker.java:40)
at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java(Compiled Code))
at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1155)
at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:904)
at org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand(LaunchView.java:753)
at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent(LaunchViewEventHandler.java:242)
at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent(LaunchViewEventHandler.java:192)
at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java(Compiled Code))
at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.java(Compiled Code))
at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java(Compiled Code))
at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java(Compiled Code))
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))
at org.eclipse.ui.internal.Workbench.run(Workbench.java:1239)
at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:775)
at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)
at java.lang.reflect.Method.invoke(Native Method)
at org.eclipse.core.launcher.Main.basicRun(Main.java:247)
at org.eclipse.core.launcher.Main.run(Main.java:703)
at org.eclipse.core.launcher.Main.main(Main.java:539)