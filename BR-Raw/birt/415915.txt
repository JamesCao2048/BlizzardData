Bug 415915 NPE in MultiPageReportEditor.isSaveAsAllowed
Due to getActivePageInstance() being able to return null if no page is active, isSaveAsAllowed will fail if this occurs, as it does when the whole application is closed with the close button.
Here's the log: !ENTRY org.eclipse.e4.ui.workbench 4 0 2013-08-26 13:28:43.478 !MESSAGE Exception occurred while unrendering: org.eclipse.e4.ui.model.application.ui.basic.impl.TrimmedWindowImpl@123db25 (elementId: IDEWindow, tags: [topLevel], contributorURI: platform:/plugin/org.eclipse.ui.workbench) (widget: null, renderer: null, toBeRendered: true, onTop: false, visible: true, containerData: null, accessibilityPhrase: null) (label: null, iconURI: null, tooltip: null, context: TrimmedWindowImpl (IDEWindow) Context, variables: [], x:
-1114, y: 80, width: 1024, height: 768) !STACK 0 java.lang.NullPointerException at org.eclipse.birt.report.designer.ui.editors.MultiPageReportEditor.isSaveAsAllowed(MultiPageReportEditor.java:585) at org.eclipse.ui.internal.handlers.SaveAsHandler.evaluate(SaveAsHandler.java:64) at org.eclipse.ui.internal.handlers.AbstractSaveHandler$1.evaluate(AbstractSaveHandler.java:45) at org.eclipse.ui.internal.services.EvaluationReference.evaluate(EvaluationReference.java:94) at org.eclipse.ui.internal.services.EvaluationReference.evaluate(EvaluationReference.java:131) at org.eclipse.ui.internal.services.EvaluationReference.changed(EvaluationReference.java:125) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update(TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled(EclipseContext.java:328) at org.eclipse.e4.core.internal.contexts.EclipseContext.remove(EclipseContext.java:302) at org.eclipse.ui.internal.services.EvaluationServ
ice$1.changed(EvaluationService.java:71) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update(TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled(EclipseContext.java:328) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseContext.java:342) at org.eclipse.e4.core.internal.contexts.EclipseContext.deactivate(EclipseContext.java:640) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.clearContext(PartRenderingEngine.java:936) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeRemoveGui(PartRenderingEngine.java:920) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.access$3(PartRenderingEngine.java:828) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$8.run(PartRenderingEngine.java:823) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.removeGui(PartRenderingEngine.jav
a:808) at org.eclipse.ui.internal.WorkbenchWindow.hardClose(WorkbenchWindow.java:1598) at org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:1231) at org.eclipse.ui.internal.WorkbenchWindow.access$14(WorkbenchWindow.java:1198) at org.eclipse.ui.