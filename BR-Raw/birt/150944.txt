Bug 150944 org.eclipse.birt.data.engine.core.DataException when running report using API
I have a report that throws a org.eclipse.birt.data.engine.core.DataException exception (see Stack trace below) whenever I try to run it using the report engine API. The report works perfectly under Eclipse preview, and when viewed in an app server (Tomcat, Weblogic). I use the following code to create the PDF file: private static void executeReport(final String reportFile, final String pdfFile) throws EngineException { //Engine Configuration - set and get temp dir, BIRT home, Servlet context EngineConfig config = new EngineConfig(); config.setEngineHome( birtReportEngineHome ); //Create the report engine ReportEngine engine = new ReportEngine( config ); //Open a report design - use design to modify design, retrieve embedded images etc. IReportRunnable design = engine.openReportDesign(reportFile); //Create task to run the report - use the task to execute and run the report, IRunAndRenderTask task = engine.createRunAndRenderTask(design); //Set Render context to handle url and image loca
taions PDFRenderContext renderContext = new PDFRenderContext(); renderContext.setEmbededFont(true); HashMap contextMap = new HashMap(); contextMap.put( EngineConstants.APPCONTEXT_PDF_RENDER_CONTEXT, renderContext ); task.setAppContext( contextMap ); //Set rendering options - such as file or stream output, //output format, whether it is embeddable, etc RenderOptionBase options = new RenderOptionBase(); options.setOutputFileName(pdfFile); options.setOutputFormat(RenderOptionBase.OUTPUT_FORMAT_PDF); task.setRenderOption(options); //run the report and destroy the engine task.run(); engine.destroy(); } And when I run the report, I get the following stack trace: SEVERE: A BIRT exception occurred: Can not convert the value of 2006-07-10 to Date type.. See next exception for more information. Can not convert the value of 2006-07-10 to Date type. org.eclipse.birt.data.engine.core.DataException: A BIRT exception occurred: Can not convert the value of 2006-07-10 to Date type.. See next exception
for more information. Can not convert the value of 2006-07-10 to Date type. at org.eclipse.birt.data.engine.core.DataException.wrap(DataException.java:114) at org.eclipse.birt.data.engine.expression.ColumnReferenceExpression.evaluate(ColumnReferenceExpression.java:132) at org.eclipse.birt.data.engine.script.ScriptEvalUtil.evalExpr(ScriptEvalUtil.java:501) at org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.populateGroupBoundaryInfoSortings(GroupInstanceSorter.java:144) at org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.populateGroupBoundaryInfosSortings(GroupInstanceSorter.java:117) at org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.doGroupSorting(GroupInstanceSorter.java:62) at org.eclipse.birt.data.engine.executor.transform.group.GroupProcessorManager.doGroupFilteringAndSorting(GroupProcessorManager.java:79) at org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.populateResultSet(MultiPas