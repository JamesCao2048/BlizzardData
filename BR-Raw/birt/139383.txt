Bug 139383 Nest query with data set parameter binding will cause an error message
Description: Nest query with data set parameter binding will cause an error message. Steps to reproduce: 1.New a sampledb data source and dataset, and input select distinct CLASSICMODELS.CUSTOMERS.STATE from CLASSICMODELS.CUSTOMERS in the Query of dataset. 2.New another sampledb data source and dataset, and input select *from CLASSICMODELS.CUSTOMERS where CLASSICMODELS.CUSTOMERS.STATE=? in the Query of dataset. Go to the parameters pane and set a default value CA to the param1. 3. Drag the first dataset to the layout to get a 1*2 table.(refer to the attached design file) 4. Drag the second dataset to the detail row and get a table nest table(inner table have its binding) 5. Choose the inner table and go to the binding tab, click the button Dataset Parameter Binding 6. Set the param1 value: row._outer["STATE"] 7. Save and preview it Actual result: A error occurred: Error0 : data.engine.UnexpectedError ( 19 time(s) ) detail : org.eclipse.birt.data.engine.core.DataException: Data engine o
peration failed due to an unexpected exception. Error evaluating Javascript expression. Script engine error: TypeError: Cannot read property "STATE" from null Script source: source, line: 0, text:row._outer["STATE"] at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.evaluateInputParameterValue(PreparedOdaDSQuery.java:351) at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.getMergedParameters(PreparedOdaDSQuery.java:309) at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.populateOdiQuery(PreparedOdaDSQuery.java:216) at org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution(QueryExecutor.java:213) at org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(PreparedQuery.java:357) at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:182) at org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteDataEngine.java:121) at org.eclipse.birt.report.engi
ne.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:214) at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:204) at org.eclipse.birt.report.engine.executor.QueryItemExecutor.openResultSet(QueryItemExecutor.java:62) at org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:122) at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem(ReportExecutorVisitor.java:205) at org.eclipse.birt.report.engine.ir.TableItemDesign.accept(TableItemDesign.java:69) at org.eclipse.birt.report.engine.executor.TableItemExecutor.accessRow(TableItemExecutor.java:618) at org.eclipse.birt.report.engine.executor.TableItemExecutor.accessTableBand(TableItemExecutor.java:506) at org.eclipse.birt.report.engine.executor.TableItemExecutor.accessDetail(TableItemExecutor.java:418) at org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery(ListingElementExecutor.java:130) at org.eclipse.bir