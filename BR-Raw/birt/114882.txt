Bug 114882 Exception is thrown when set invalid font size in Source
Description: Exception is thrown when set invalid font size in Source Steps to reproduce: 1.Insert a report item.
2.Select it and set font size to
-1pt in Property Editor, press enter.
3.Transfer to Source, set font size to
-1pt and save the report.
Expected result: Error dialog about the invalid size value shows up.
Actual result: In step 2, we got a birt exception: A Birt exception occurred.
Plug-in Provider:Eclipse.org Plug-in Name:BIRT Model Plug-in ID:org.eclipse.birt.report.model Version:1.0.1 Error Code:Error.PropertyValueException.NON_POSITIVE_VALUE Error Message:Value "-1pt" for property "fontSize" is invalid, the value should be positive.
It's expected behavior.
But in step 3, we got org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.IllegalArgumentException: Argument not valid) at org.eclipse.swt.SWT.error(SWT.java:2942) at org.eclipse.swt.SWT.error(SWT.java:2865) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages (Synchronizer.java:126) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716) at org.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.runEventLoop (EventLoopProgressMonitor.java:123) at org.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.isCanceled (EventLoopProgressMonitor.java:97) at org.eclipse.ui.texteditor.AbstractDocumentProvider$1 $SaveOperation.execute(AbstractDocumentProvider.java:610) at org.eclipse.ui.texteditor.AbstractDocumentProvider$DocumentProviderOperation.run (AbstractDocumentProvider.java:74) at org.eclipse.ui.texteditor.AbstractDocumentProvider.executeOperation (AbstractDocumentProvider.java:551)
at org.eclipse.ui.texteditor.AbstractDocumentProvider.saveDocument (AbstractDocumentProvider.java:627) at org.eclipse.birt.report.designer.internal.ui.editor.context.DesignFileInputConte xt.doSave(DesignFileInputContext.java:126) at org.eclipse.birt.report.designer.internal.ui.editors.parts.AbstractMultiPageLayo utEditor.doSave(AbstractMultiPageLayoutEditor.java:469) at org.eclipse.ui.internal.SaveableHelper$1.run(SaveableHelper.java:95) at org.eclipse.ui.internal.SaveableHelper$2.run(SaveableHelper.java:116) at org.eclipse.jface.operation.ModalContext.runInCurrentThread (ModalContext.java:346) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291) at org.eclipse.jface.window.ApplicationWindow$1.run (ApplicationWindow.java:624) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69) at org.eclipse.jface.window.ApplicationWindow.run (ApplicationWindow.java:621) at org.eclipse.ui.internal.WorkbenchWindow.run (WorkbenchWindow.java:2134) at org.eclipse.ui.
internal.SaveableHelper.runProgressMonitorOperation (SaveableHelper.java:122) at org.eclipse.ui.internal.SaveableHelper.savePart (SaveableHelper.java:100) at org.eclipse.ui.internal.EditorManager.savePart (EditorManager.java:1149) at org.eclipse.ui.internal.WorkbenchPage.savePart (WorkbenchPage.java:2673) at org.e