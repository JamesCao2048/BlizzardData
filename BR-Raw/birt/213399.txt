Bug 213399 Exception occurs when iv generation task runs with query not changed.
reproduce steps.
1.create a report design with a table bound to some data set.
2.generate a document for the report design.
3.change the style of some item in the design.
4.run iv generation task based on the design and the document.
Actual result: exceptions area thrown out.
java.lang.NullPointerException at java.io.DataOutputStream.flush(DataOutputStream.java:106) at java.io.FilterOutputStream.close(FilterOutputStream.java:140) at org.eclipse.birt.data.engine.impl.document.viewing.RowIndexUtil.close(RowIndexUtil.java:89) at org.eclipse.birt.data.engine.impl.document.viewing.CachedExprResultSet.saveExprResult(CachedExprResultSet.java:175) at org.eclipse.birt.data.engine.impl.document.viewing.CachedExprResultSet.doSave(CachedExprResultSet.java:138) at org.eclipse.birt.data.engine.impl.document.RDSaveUtil.saveForUpdate(RDSaveUtil.java:152) at org.eclipse.birt.data.engine.impl.document.RDSaveUtil.saveResultIterator(RDSaveUtil.java:63) at org.eclipse.birt.data.engine.impl.document.RDSave.saveResultIterator(RDSave.java:221) at org.eclipse.birt.data.engine.impl.ResultIterator$RDSaveHelper.doSave(ResultIterator.java:1111) at org.eclipse.birt.data.engine.impl.ResultIterator$RDSaveHelper.doSaveExpr(ResultIterator.java:1076) at org.eclipse.birt.data.engine.impl.Bind
ingColumnsEvalUtil.getColumnsValue(BindingColumnsEvalUtil.java:184) at org.eclipse.birt.data.engine.impl.ResultIterator.prepareCurrentRow(ResultIterator.java:631) at org.eclipse.birt.data.engine.impl.ResultIterator.next(ResultIterator.java:366) at org.eclipse.birt.report.engine.data.dte.QueryResultSet.next(QueryResultSet.java:173) at org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery(QueryItemExecutor.java:81) at org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:62) at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecutor.execute(WrappedReportItemExecutor.java:45) at org.eclipse.birt.report.engine.internal.executor.emitter.ReportItemEmitterExecutor.execute(ReportItemEmitterExecutor.java:45) at org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplicateItemExecutor.execute(SuppressDuplicateItemExecutor.java:42) at org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutNodes(HTML
BlockStackingLM.java:63) at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java:85) at org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:106) at org.eclipse.birt.report.engine.presentation.ReportDocumentBuilder.build(ReportDocumentBuilder.java:189) at org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:223) at org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:112) at org.eclipse.birt.report.engine.api.iv.IVTest.ivRun(IVTest.java:69) at org.eclipse.birt.report.engine.api.iv.IVTest.doTestIV(IVTest.java:56) at org.eclipse.birt.report.engine.api.iv.IVTest.testIV(IVTest.java:43) at sun.reflect.NativeMethodAccesso