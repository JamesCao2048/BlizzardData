Bug 121815 NullPointerException when undo a delete action.
Description: NullPointerException when undo a delete action.
Steps to reproduce: 1.Attached is a grid/table/list nest report, select the outer grid and press delete button.
2.Press Ctrl+Z Expected result: The deleted items are recovered without exception.
Actual result: java.lang.NullPointerException at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.getRefreshManager(ReportElementEditPart.java:713) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.refreshVisuals(ReportElementEditPart.java:513) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.LabelEditPart.markDirty(LabelEditPart.java:65) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.markDirty(ReportElementEditPart.java:677) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.markDirty(ReportElementEditPart.java:677) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.markDirty(ReportElementEditPart.java:677) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.markDirty(ReportElem
entEditPart.java:677) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.TableEditPart.markDirty(TableEditPart.java:1228) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.markDirty(ReportElementEditPart.java:655) at org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.GridEditPart.elementChanged(GridEditPart.java:73) at org.eclipse.birt.report.model.core.DesignElement.broadcast(DesignElement.java:776) at org.eclipse.birt.report.model.activity.NotificationRecordTask.doTask(NotificationRecordTask.java:199) at org.eclipse.birt.report.model.activity.FilterEventsCompoundRecord.performPostTasks(FilterEventsCompoundRecord.java:76) at org.eclipse.birt.report.model.activity.CompoundRecord.undo(CompoundRecord.java:127) at org.eclipse.birt.report.model.activity.ActivityStack.undo(ActivityStack.java:397) at org.eclipse.birt.report.designer.internal.ui.command.WrapperCommandStack.undo(WrapperCommandStack.j
ava:59) at org.eclipse.gef.ui.actions.UndoAction.run(UndoAction.java:93) at org.eclipse.jface.action.Action.runWithEvent(Action.java:996) at org.eclipse.ui.actions.RetargetAction.runWithEvent(RetargetAction.java:222) at org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:117) at org.eclipse.core.commands.Command.execute(Command.java:311) at org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828) at org.eclipse.ui.internal