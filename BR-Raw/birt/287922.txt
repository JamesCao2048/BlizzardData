Bug 287922 http 500 while error script in parameter getSelectionValueList method[0801]
Description: Http error 500 when I wrote invalid script in list-box parameter's getSelectionValueList method. Build number:2.5.1.v20090828 Steps to reproduce: 1. New a parameter, list-box. 2. Input new array("a","b") in parameter getSelectionValueList method.(new array is invalid, correct should be new Array) 3. Preview Expected result: Catch the error and throw BIRTexception. Actual result: http error 500. Error log: HTTP ERROR 500 Problem accessing /viewer/run. Reason: Exception in JSP: /webcontent/birt/pages/layout/ReportDialogFragment.jsp:28 25: <% 26: if ( fragment != null ) 27: { 28: fragment.callBack( request, response ); 29: } 30: %> 31: </TD> Stacktrace: Caused by: org.apache.jasper.JasperException: Exception in JSP: /webcontent/birt/pages/layout/ReportDialogFragment.jsp:28 25: 31: Stacktrace: at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:504) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:375) at org.ap
ache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) a
t org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) at org.apache.jsp.webcontent.birt.pages.layout.RunFragment_jsp._jspService(RunFragment_jsp.java:206) at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) at org.apache.jasper.servlet.JspServlet.serviceJ