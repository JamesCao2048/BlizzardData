Bug 287781 NPE when add style in XML outline and save report[1401]
Description: NPE when add style after switch to xml source outline and then save Build number:2.5.1v20090827 steps to reproduce: 1.New a report, go to XML Source view 2.In outline, switch to xml source outline, select style node and use context menu to add Child->style 3.Back to Layout 4.in the popup dialog about xml source change, click save Expected result: No Exception.
Actual result: NPE Error log: java.lang.NullPointerException at java.util.regex.Matcher.getTextLength(Matcher.java:1140) at java.util.regex.Matcher.reset(Matcher.java:291) at java.util.regex.Matcher.<init>(Matcher.java:211) at java.util.regex.Pattern.matcher(Pattern.java:885) at org.eclipse.birt.report.model.parser.ReportElementState.addToNamespace(ReportElementState.java:508) at org.eclipse.birt.report.model.parser.ReportElementState.addToSlot(ReportElementState.java:295) at org.eclipse.birt.report.model.parser.ReportElementState.initSimpleElement(ReportElementState.java:446) at org.eclipse.birt.report.model.parser.ReportElementState.initElement(ReportElementState.java:341) at org.eclipse.birt.report.model.parser.StyleState.parseAttrs(StyleState.java:90) at org.eclipse.birt.report.model.parser.ModuleParserHandler.startElement(ModuleParserHandler.java:245) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) at com.sun.org.apache.xerc
es.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1357) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2740) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:645) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:508) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:807) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) at javax.xml.parsers.SAXParser.parse
(SAXParser.java:395) at org.eclipse.birt.report.model.parser.ModuleReader.readModule(ModuleReader.java:94) at org.eclipse.birt.report.model.parser.DesignReader.read(DesignReader.java:88) at org.eclipse.birt.report.model.core.DesignSessionImpl.openDesign(DesignSessionImpl.java:315) at org.eclipse.birt.report.model.core.DesignSessionImpl.openDesign(DesignSessionImpl.java:286) at org.eclipse.birt.report.model.api.SessionHandleImpl.openDesign(SessionHandleImpl.java:269) at org.eclipse.birt.report.designer.ui.editor.pages.xml.ReportXMLSourceEditorFormPage.getErrorLIine(ReportXMLSourceEditorFormPage.java:192) at org.ecli