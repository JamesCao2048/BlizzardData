Bug 186093 Invalid dataitem in crosstab leads ArrayIndexOutOfBoundsException[07][1102]
Description: Invalid dataitem in crosstab leads ArrayIndexOutOfBoundsException[07][1102] Build number: 2.2.0.v20070509-0950 Steps to reproduce: 1, New a crosstab 2, Insert a invalid dataitem in a level cell expression such as dimension["a"]["b"]["c"], c isn't exist in cube 3, Preview the report Expected result: Pops up suitable error message Actual result: ArrayIndexOutOfBoundsException occurs Error log: org.eclipse.birt.report.service.api.ReportServiceException: Error happened while running the report; nested exception is: java.lang.ArrayIndexOutOfBoundsException: -1 Show Exception Stack Trace Hide Exception Stack Trace Stack Trace: org.eclipse.birt.data.engine.olap.cursor.ResultSetFetcher.getValue(ResultSetFetcher.java:56) org.eclipse.birt.data.engine.olap.cursor.EdgeInfoGenerator.dim_getCurrentMember(EdgeInfoGenerator.java:502) org.eclipse.birt.data.engine.olap.driver.DimensionAxis.getCurrentMember(DimensionAxis.java:386) org.eclipse.birt.data.engine.olap.cursor.DimensionAccessor.ge
tObject(DimensionAccessor.java:222) org.eclipse.birt.data.engine.olap.cursor.AbstractCursorSupport.getObject(AbstractCursorSupport.java:382) org.eclipse.birt.data.engine.olap.script.JSLevelObject.get(JSLevelObject.java:70) org.mozilla.javascript.ScriptableObject.getProperty(ScriptableObject.java:1263) org.mozilla.javascript.ScriptRuntime.getObjectElem(ScriptRuntime.java:1301) org.mozilla.javascript.ScriptRuntime.getObjectElem(ScriptRuntime.java:1283) org.mozilla.javascript.Interpreter.interpret(Interpreter.java:2774) org.mozilla.javascript.Interpreter.interpret(Interpreter.java:2164) org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:140) org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:304) org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2769) org.mozilla.javascript.Interpreter.interpret(Interpreter.java:2145) org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:140) org.mozilla.javascript.InterpretedFuncti
on.exec(InterpretedFunction.java:149) org.eclipse.birt.data.engine.olap.script.OLAPExpressionHandler.evaluate(OLAPExpressionHandler.java:42) org.eclipse.birt.data.engine.script.ScriptEvalUtil.evalExpr(ScriptEvalUtil.java:506) org.eclipse.birt.data.engine.olap.api.query.impl.CubeCursorImpl.getObject(CubeCursorImpl.java:300)