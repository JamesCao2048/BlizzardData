Bug 166758 [Regression] Link to a Date type parameter cause error.[07][0705]
Build number: 2.2.0 M3 2006-1205 Description: Dataset parameter link to a date type report parameter will cause error.
Step to reporduce: 1.new parameter type: datetime Defualt value: 12/12/2006 2.new a sampledb datasource and dataset "select * from CLASSICMODELS.ORDERS where CLASSICMODELS.ORDERS.ORDERDATE<?" 3.in the patameter page link the patamet to the report patameter 4.preview in dataset editor Error log: org.eclipse.birt.data.engine.core.DataException: Cannot convert the parameter value 2006-12-12 00:00:00.0 GMT+0800 to type class java.util.Date.
Can not convert the value of 2006-12-12 00:00:00.0 GMT+0800 to Date type.
at org.eclipse.birt.data.engine.executor.DataSourceQuery.convertToValue(DataSourceQuery.java:701) at org.eclipse.birt.data.engine.executor.DataSourceQuery.addParameterDefns(DataSourceQuery.java:330) at org.eclipse.birt.data.engine.executor.DataSourceQuery.prepare(DataSourceQuery.java:255) at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.prepareOdiQuery(PreparedOdaDSQuery.java:344) at org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution(QueryExecutor.java:222) at org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(PreparedQuery.java:396) at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:145) at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.execute(PreparedOdaDSQuery.java:134) at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:125) at org.eclipse.birt.report.data.adapter.impl.QueryExecutionHelper.executeQuery(QueryExecutionHelper.java:108) at o
rg.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.executeQuery(DataRequestSessionImpl.java:205) at org.eclipse.birt.report.designer.data.ui.util.DataSetProvider.executeQuery(DataSetProvider.java:451) at org.eclipse.birt.report.designer.data.ui.util.DataSetProvider.execute(DataSetProvider.java:301) at org.eclipse.birt.report.designer.data.ui.util.DataSetProvider.execute(DataSetProvider.java:264) at org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.executeProcess(ResultSetPreviewPage.java:280) at org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.runUpdateResults(ResultSetPreviewPage.java:248) at org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.access$1(ResultSetPreviewPage.java:232) at org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage$4.runInUIThread(ResultSetPreviewPage.java:225) at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java
:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3325) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2971) at org.eclipse.jface.window.Window.runEventLoop(Window.java:820) at org.eclipse.jface.window.Window.open(Window.java:796) at org.eclipse.b