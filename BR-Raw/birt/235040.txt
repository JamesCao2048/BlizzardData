Bug 235040 Can not preview dataset even there has no report parameter link
Description: Can not preview dataset even there has no report parameter link Build number: 2.3.0.v20080530-0630 Steps to reproduce: 1, New a report parameter p1: integer type and default value is 160 2, New a dataset select * from customers where customernumber<?
3, Link the dataset parameter to report parameter 4, Preview in dataset 5, Modify the dataset queryText to select * from customers 6, Preview in dataset 7, Modify the parameter to a list type with some default values 8, Preview in dataset again 9, Create a new dataset and preview Actual result: After modify the parameter type to list, the preview in dataset failed and even clear all the references of report parameter in dataset.
The more critical thing is if I new a dataset the preview also failed.
Error log: org.eclipse.birt.report.engine.api.impl.ParameterValidationException: Required parameter P1 is not set.
at org.eclipse.birt.report.engine.api.impl.EngineTask.validateScalarParameter(EngineTask.java:664) at org.eclipse.birt.report.engine.api.impl.EngineTask.access$0(EngineTask.java:650) at org.eclipse.birt.report.engine.api.impl.EngineTask$ParameterValidationVisitor.visitScalarParameter(EngineTask.java:594) at org.eclipse.birt.report.engine.api.impl.EngineTask$ParameterVisitor.visit(EngineTask.java:1054) at org.eclipse.birt.report.engine.api.impl.EngineTask.doValidateParameters(EngineTask.java:578) at org.eclipse.birt.report.designer.data.ui.util.DummyEngineTask.run(DummyEngineTask.java:32) at org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.runUpdateResults(ResultSetPreviewPage.java:297) at org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.access$1(ResultSetPreviewPage.java:260) at org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage$4.runInUIThread(ResultSetPreviewPage.java:253)