Bug 294324 – Failing tag tests caused by failure to delete resources
We have a pile of failing tests, which appear to be caused by a failure to delete some testing workspace resources, which then cascade to cause JDT failures in subsequent tests.
Workspace file should not exist: tagproject/src/a/b/c/test5.java
junit.framework.AssertionFailedError: Workspace file should not exist: tagproject/src/a/b/c/test5.java
at org.eclipse.pde.api.tools.builder.tests.ApiBuilderTest.createWorkspaceFile(ApiBuilderTest.java:838)
at org.eclipse.pde.api.tools.builder.tests.tags.TagTest.deployTagTest(TagTest.java:192)
at org.eclipse.pde.api.tools.builder.tests.tags.InvalidAnnotationFieldTagTests.x5(InvalidAnnotationFieldTagTests.java:142)
at org.eclipse.pde.api.tools.builder.tests.tags.InvalidAnnotationFieldTagTests.testInvalidAnnotationFieldTag5F(InvalidAnnotationFieldTagTests.java:132)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:354)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:206)
at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:35)
at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:31)
at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:586)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:611)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:566)
at org.eclipse.equinox.launcher.Main.run(Main.java:1363)
at org.eclipse.equinox.launcher.Main.main(Main.java:1339)
at org.eclipse.core.launcher.Main.main(Main.java:34)
followed by
Should not be a JDT error
junit.framework.AssertionFailedError: Should not be a JDT error
at org.eclipse.pde.api.tools.builder.tests.ApiBuilderTest.expectingNoJDTProblemsFor(ApiBuilderTest.java:191)
at org.eclipse.pde.api.tools.builder.tests.tags.TagTest.deployTagTest(TagTest.java:199)
at org.eclipse.pde.api.tools.builder.tests.tags.InvalidAnnotationFieldTagTests.x7(InvalidAnnotationFieldTagTests.java:178)
at org.eclipse.pde.api.tools.builder.tests.tags.InvalidAnnotationFieldTagTests.testInvalidAnnotationFieldTag7I(InvalidAnnotationFieldTagTests.java:164)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:354)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:206)
at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:35)
at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:31)
at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:586)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:611)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:566)
at org.eclipse.equinox.launcher.Main.run(Main.java:1363)
at org.eclipse.equinox.launcher.Main.main(Main.java:1339)
at org.eclipse.core.launcher.Main.main(Main.java:34)
There also is a baseline disposed entry in the console log for the plugin test suite.